{"numTotalTestSuites":79,"numPassedTestSuites":69,"numFailedTestSuites":10,"numPendingTestSuites":0,"numTotalTests":172,"numPassedTests":170,"numFailedTests":2,"numPendingTests":0,"numTodoTests":0,"snapshot":{"added":0,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":0,"total":0,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0,"didUpdate":false},"startTime":1769547204395,"success":false,"testResults":[{"assertionResults":[],"startTime":1769547204395,"endTime":1769547204395,"status":"failed","message":"Failed to load url zod (resolved id: zod) in /Volumes/Externalwork/code-reviewer/api/src/config/schema.ts. Does the file exist?","name":"/Volumes/Externalwork/code-reviewer/api/tests/config.test.ts"},{"assertionResults":[{"ancestorTitles":["Health Routes","GET /health"],"fullName":"Health Routes GET /health should return healthy status","status":"passed","title":"should return healthy status","duration":91.28583300000014,"failureMessages":[],"meta":{}},{"ancestorTitles":["Health Routes","GET /health/live"],"fullName":"Health Routes GET /health/live should return alive status","status":"passed","title":"should return alive status","duration":0.6435839999999189,"failureMessages":[],"meta":{}},{"ancestorTitles":["Health Routes","GET /health/ready"],"fullName":"Health Routes GET /health/ready should return readiness status","status":"passed","title":"should return readiness status","duration":0.8843749999998636,"failureMessages":[],"meta":{}},{"ancestorTitles":["Health Routes","GET /health/detailed"],"fullName":"Health Routes GET /health/detailed should return detailed health status","status":"passed","title":"should return detailed health status","duration":3.6897500000000036,"failureMessages":[],"meta":{}},{"ancestorTitles":["Health Routes","404 Handler"],"fullName":"Health Routes 404 Handler should return 404 for unknown routes","status":"passed","title":"should return 404 for unknown routes","duration":0.5537080000001424,"failureMessages":[],"meta":{}}],"startTime":1769547205477,"endTime":1769547205574.5537,"status":"passed","message":"","name":"/Volumes/Externalwork/code-reviewer/api/tests/health.test.ts"},{"assertionResults":[],"startTime":1769547204395,"endTime":1769547204395,"status":"failed","message":"Transform failed with 1 error:\n/Volumes/Externalwork/code-reviewer/api/src/detectors/data-source-detector.ts:677:2: ERROR: Multiple exports with the same name \"DataSourceDetector\"","name":"/Volumes/Externalwork/code-reviewer/api/tests/detectors/data-source-detector.test.ts"},{"assertionResults":[],"startTime":1769547204395,"endTime":1769547204395,"status":"failed","message":"Transform failed with 1 error:\n/Volumes/Externalwork/code-reviewer/api/src/detectors/reference-resolver.ts:762:2: ERROR: Multiple exports with the same name \"ReferenceResolver\"","name":"/Volumes/Externalwork/code-reviewer/api/tests/detectors/reference-resolver.test.ts"},{"assertionResults":[{"ancestorTitles":["Scan Workflow Integration","VPC Infrastructure Scenario"],"fullName":"Scan Workflow Integration VPC Infrastructure Scenario should detect VPC -> Subnet -> Instance dependency chain","status":"passed","title":"should detect VPC -> Subnet -> Instance dependency chain","duration":1.9007500000000164,"failureMessages":[],"meta":{}},{"ancestorTitles":["Scan Workflow Integration","VPC Infrastructure Scenario"],"fullName":"Scan Workflow Integration VPC Infrastructure Scenario should resolve variable references","status":"passed","title":"should resolve variable references","duration":0.36000000000001364,"failureMessages":[],"meta":{}},{"ancestorTitles":["Scan Workflow Integration","VPC Infrastructure Scenario"],"fullName":"Scan Workflow Integration VPC Infrastructure Scenario should generate confidence scores for all edges","status":"passed","title":"should generate confidence scores for all edges","duration":0.46850000000006276,"failureMessages":[],"meta":{}},{"ancestorTitles":["Scan Workflow Integration","VPC Infrastructure Scenario"],"fullName":"Scan Workflow Integration VPC Infrastructure Scenario should produce valid graph","status":"passed","title":"should produce valid graph","duration":0.6310420000000931,"failureMessages":[],"meta":{}},{"ancestorTitles":["Scan Workflow Integration","Module Call Scenario"],"fullName":"Scan Workflow Integration Module Call Scenario should detect module dependencies","status":"passed","title":"should detect module dependencies","duration":0.27595799999994597,"failureMessages":[],"meta":{}},{"ancestorTitles":["Scan Workflow Integration","Data Source Scenario"],"fullName":"Scan Workflow Integration Data Source Scenario should detect data source dependencies","status":"passed","title":"should detect data source dependencies","duration":0.18741699999998218,"failureMessages":[],"meta":{}},{"ancestorTitles":["Scan Workflow Integration","Complex Multi-File Scenario"],"fullName":"Scan Workflow Integration Complex Multi-File Scenario should handle references across files","status":"passed","title":"should handle references across files","duration":0.18033300000001873,"failureMessages":[],"meta":{}},{"ancestorTitles":["Scan Workflow Integration","Error Handling"],"fullName":"Scan Workflow Integration Error Handling should handle empty file list","status":"passed","title":"should handle empty file list","duration":0.11445900000001075,"failureMessages":[],"meta":{}},{"ancestorTitles":["Scan Workflow Integration","Error Handling"],"fullName":"Scan Workflow Integration Error Handling should handle files with no blocks","status":"passed","title":"should handle files with no blocks","duration":0.20679200000006404,"failureMessages":[],"meta":{}},{"ancestorTitles":["Scan Workflow Integration","Error Handling"],"fullName":"Scan Workflow Integration Error Handling should skip unresolvable references","status":"passed","title":"should skip unresolvable references","duration":0.17108300000006693,"failureMessages":[],"meta":{}},{"ancestorTitles":["Scan Workflow Integration","Performance"],"fullName":"Scan Workflow Integration Performance should complete scan within reasonable time for small projects","status":"passed","title":"should complete scan within reasonable time for small projects","duration":0.8537919999999986,"failureMessages":[],"meta":{}},{"ancestorTitles":["Scan Workflow Integration","Performance"],"fullName":"Scan Workflow Integration Performance should track processing time","status":"passed","title":"should track processing time","duration":0.5653330000000096,"failureMessages":[],"meta":{}},{"ancestorTitles":["Scan Workflow Integration","Graph Metadata"],"fullName":"Scan Workflow Integration Graph Metadata should calculate correct node counts by type","status":"passed","title":"should calculate correct node counts by type","duration":0.38170900000000074,"failureMessages":[],"meta":{}},{"ancestorTitles":["Scan Workflow Integration","Graph Metadata"],"fullName":"Scan Workflow Integration Graph Metadata should track source files","status":"passed","title":"should track source files","duration":0.6365829999999733,"failureMessages":[],"meta":{}},{"ancestorTitles":["Module Source Parsing Integration"],"fullName":"Module Source Parsing Integration should correctly parse and categorize module sources","status":"passed","title":"should correctly parse and categorize module sources","duration":0.7065420000000131,"failureMessages":[],"meta":{}},{"ancestorTitles":["Confidence Scoring Integration"],"fullName":"Confidence Scoring Integration should score explicit references higher than heuristic","status":"passed","title":"should score explicit references higher than heuristic","duration":0.33808299999998326,"failureMessages":[],"meta":{}},{"ancestorTitles":["Confidence Scoring Integration"],"fullName":"Confidence Scoring Integration should combine multiple evidence sources","status":"passed","title":"should combine multiple evidence sources","duration":0.09020799999996143,"failureMessages":[],"meta":{}}],"startTime":1769547204769,"endTime":1769547204778.3381,"status":"passed","message":"","name":"/Volumes/Externalwork/code-reviewer/api/tests/integration/scan-workflow.test.ts"},{"assertionResults":[{"ancestorTitles":["ScoringEngine","calculate"],"fullName":"ScoringEngine calculate should return zero score for empty evidence","status":"passed","title":"should return zero score for empty evidence","duration":1.0585419999999885,"failureMessages":[],"meta":{}},{"ancestorTitles":["ScoringEngine","calculate"],"fullName":"ScoringEngine calculate should calculate high confidence for explicit evidence","status":"failed","title":"should calculate high confidence for explicit evidence","duration":4.794791999999916,"failureMessages":["AssertionError: expected 'certain' to be 'high' // Object.is equality\n    at /Volumes/Externalwork/code-reviewer/api/tests/scoring/scoring-engine.test.ts:60:28\n    at file:///Volumes/Externalwork/code-reviewer/api/node_modules/@vitest/runner/dist/index.js:146:14\n    at file:///Volumes/Externalwork/code-reviewer/api/node_modules/@vitest/runner/dist/index.js:533:11\n    at runWithTimeout (file:///Volumes/Externalwork/code-reviewer/api/node_modules/@vitest/runner/dist/index.js:39:7)\n    at runTest (file:///Volumes/Externalwork/code-reviewer/api/node_modules/@vitest/runner/dist/index.js:1056:17)\n    at runSuite (file:///Volumes/Externalwork/code-reviewer/api/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Volumes/Externalwork/code-reviewer/api/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Volumes/Externalwork/code-reviewer/api/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runFiles (file:///Volumes/Externalwork/code-reviewer/api/node_modules/@vitest/runner/dist/index.js:1262:5)\n    at startTests (file:///Volumes/Externalwork/code-reviewer/api/node_modules/@vitest/runner/dist/index.js:1271:3)"],"meta":{}},{"ancestorTitles":["ScoringEngine","calculate"],"fullName":"ScoringEngine calculate should calculate medium confidence for semantic evidence","status":"passed","title":"should calculate medium confidence for semantic evidence","duration":0.23008400000003348,"failureMessages":[],"meta":{}},{"ancestorTitles":["ScoringEngine","calculate"],"fullName":"ScoringEngine calculate should apply heuristic penalty for heuristic-only evidence","status":"passed","title":"should apply heuristic penalty for heuristic-only evidence","duration":0.144457999999986,"failureMessages":[],"meta":{}},{"ancestorTitles":["ScoringEngine","calculate"],"fullName":"ScoringEngine calculate should apply explicit bonus for explicit evidence","status":"passed","title":"should apply explicit bonus for explicit evidence","duration":0.23599999999999,"failureMessages":[],"meta":{}},{"ancestorTitles":["ScoringEngine","calculate"],"fullName":"ScoringEngine calculate should apply pattern bonus for multiple categories","status":"passed","title":"should apply pattern bonus for multiple categories","duration":0.1865420000000313,"failureMessages":[],"meta":{}},{"ancestorTitles":["ScoringEngine","calculate"],"fullName":"ScoringEngine calculate should apply evidence multiplier with diminishing returns","status":"passed","title":"should apply evidence multiplier with diminishing returns","duration":0.11745799999994233,"failureMessages":[],"meta":{}},{"ancestorTitles":["ScoringEngine","calculate"],"fullName":"ScoringEngine calculate should respect custom configuration","status":"passed","title":"should respect custom configuration","duration":0.13245800000004238,"failureMessages":[],"meta":{}},{"ancestorTitles":["ScoringEngine","calculate"],"fullName":"ScoringEngine calculate should apply custom rules","status":"passed","title":"should apply custom rules","duration":0.21737499999994725,"failureMessages":[],"meta":{}},{"ancestorTitles":["ScoringEngine","calculate"],"fullName":"ScoringEngine calculate should normalize score to bounds","status":"passed","title":"should normalize score to bounds","duration":0.1634999999999991,"failureMessages":[],"meta":{}},{"ancestorTitles":["ScoringEngine","calculate"],"fullName":"ScoringEngine calculate should collect positive factors","status":"passed","title":"should collect positive factors","duration":0.09825000000000728,"failureMessages":[],"meta":{}},{"ancestorTitles":["ScoringEngine","getLevel"],"fullName":"ScoringEngine getLevel should return certain for 95+","status":"passed","title":"should return certain for 95+","duration":0.06941600000004655,"failureMessages":[],"meta":{}},{"ancestorTitles":["ScoringEngine","getLevel"],"fullName":"ScoringEngine getLevel should return high for 80-94","status":"passed","title":"should return high for 80-94","duration":0.06337499999995089,"failureMessages":[],"meta":{}},{"ancestorTitles":["ScoringEngine","getLevel"],"fullName":"ScoringEngine getLevel should return medium for 60-79","status":"passed","title":"should return medium for 60-79","duration":0.06074999999998454,"failureMessages":[],"meta":{}},{"ancestorTitles":["ScoringEngine","getLevel"],"fullName":"ScoringEngine getLevel should return low for 40-59","status":"passed","title":"should return low for 40-59","duration":0.0588750000000573,"failureMessages":[],"meta":{}},{"ancestorTitles":["ScoringEngine","getLevel"],"fullName":"ScoringEngine getLevel should return uncertain for 0-39","status":"passed","title":"should return uncertain for 0-39","duration":0.059499999999957254,"failureMessages":[],"meta":{}},{"ancestorTitles":["ScoringEngine","validate"],"fullName":"ScoringEngine validate should validate correct confidence score","status":"passed","title":"should validate correct confidence score","duration":0.07091700000000856,"failureMessages":[],"meta":{}},{"ancestorTitles":["ScoringEngine","validate"],"fullName":"ScoringEngine validate should reject score with mismatched level","status":"passed","title":"should reject score with mismatched level","duration":0.05716599999993832,"failureMessages":[],"meta":{}},{"ancestorTitles":["ScoringEngine","validate"],"fullName":"ScoringEngine validate should reject out-of-bounds score","status":"passed","title":"should reject out-of-bounds score","duration":0.05304100000000744,"failureMessages":[],"meta":{}},{"ancestorTitles":["ScoringEngine","merge"],"fullName":"ScoringEngine merge should return empty score for empty array","status":"passed","title":"should return empty score for empty array","duration":0.09466699999995853,"failureMessages":[],"meta":{}},{"ancestorTitles":["ScoringEngine","merge"],"fullName":"ScoringEngine merge should return same score for single item","status":"passed","title":"should return same score for single item","duration":0.06054099999994378,"failureMessages":[],"meta":{}},{"ancestorTitles":["ScoringEngine","merge"],"fullName":"ScoringEngine merge should merge multiple scores with weighted average","status":"passed","title":"should merge multiple scores with weighted average","duration":0.12962499999991905,"failureMessages":[],"meta":{}},{"ancestorTitles":["ScoringEngine","merge"],"fullName":"ScoringEngine merge should merge positive and negative factors","status":"passed","title":"should merge positive and negative factors","duration":0.07395799999994779,"failureMessages":[],"meta":{}},{"ancestorTitles":["ScoringEngine","merge"],"fullName":"ScoringEngine merge should merge breakdowns","status":"passed","title":"should merge breakdowns","duration":0.1219579999999496,"failureMessages":[],"meta":{}},{"ancestorTitles":["RuleEngine","evaluate"],"fullName":"RuleEngine evaluate should evaluate rules against evidence","status":"passed","title":"should evaluate rules against evidence","duration":0.436916999999994,"failureMessages":[],"meta":{}},{"ancestorTitles":["RuleEngine","evaluate"],"fullName":"RuleEngine evaluate should not match rules for wrong evidence type","status":"passed","title":"should not match rules for wrong evidence type","duration":0.21220900000002985,"failureMessages":[],"meta":{}},{"ancestorTitles":["RuleEngine","evaluate"],"fullName":"RuleEngine evaluate should evaluate conditions","status":"passed","title":"should evaluate conditions","duration":0.1453750000000582,"failureMessages":[],"meta":{}},{"ancestorTitles":["RuleEngine","evaluate"],"fullName":"RuleEngine evaluate should sort rules by priority","status":"passed","title":"should sort rules by priority","duration":0.07666600000004564,"failureMessages":[],"meta":{}},{"ancestorTitles":["RuleEngine","evaluate"],"fullName":"RuleEngine evaluate should calculate score contribution based on matched evidence count","status":"passed","title":"should calculate score contribution based on matched evidence count","duration":0.25062500000001364,"failureMessages":[],"meta":{}},{"ancestorTitles":["RuleEngine","matchCondition"],"fullName":"RuleEngine matchCondition should match equals condition","status":"passed","title":"should match equals condition","duration":0.16666600000007747,"failureMessages":[],"meta":{}},{"ancestorTitles":["RuleEngine","matchCondition"],"fullName":"RuleEngine matchCondition should not match equals with wrong value","status":"passed","title":"should not match equals with wrong value","duration":0.15258300000004965,"failureMessages":[],"meta":{}},{"ancestorTitles":["RuleEngine","matchCondition"],"fullName":"RuleEngine matchCondition should match contains condition","status":"passed","title":"should match contains condition","duration":0.214917000000014,"failureMessages":[],"meta":{}},{"ancestorTitles":["RuleEngine","matchCondition"],"fullName":"RuleEngine matchCondition should match regex condition","status":"passed","title":"should match regex condition","duration":0.19154199999991306,"failureMessages":[],"meta":{}},{"ancestorTitles":["RuleEngine","matchCondition"],"fullName":"RuleEngine matchCondition should match greater than condition","status":"passed","title":"should match greater than condition","duration":0.06637499999999363,"failureMessages":[],"meta":{}},{"ancestorTitles":["RuleEngine","matchCondition"],"fullName":"RuleEngine matchCondition should match less than condition","status":"passed","title":"should match less than condition","duration":0.055458000000044194,"failureMessages":[],"meta":{}},{"ancestorTitles":["RuleEngine","matchCondition"],"fullName":"RuleEngine matchCondition should match exists condition","status":"passed","title":"should match exists condition","duration":0.05608299999994415,"failureMessages":[],"meta":{}},{"ancestorTitles":["RuleEngine","matchCondition"],"fullName":"RuleEngine matchCondition should handle nested field access","status":"passed","title":"should handle nested field access","duration":0.06854199999997945,"failureMessages":[],"meta":{}},{"ancestorTitles":["RuleEngine","getApplicableRules"],"fullName":"RuleEngine getApplicableRules should filter rules by evidence type","status":"passed","title":"should filter rules by evidence type","duration":0.16441699999995762,"failureMessages":[],"meta":{}},{"ancestorTitles":["RuleEngine","getApplicableRules"],"fullName":"RuleEngine getApplicableRules should return empty array for no matching rules","status":"passed","title":"should return empty array for no matching rules","duration":0.13908300000002782,"failureMessages":[],"meta":{}},{"ancestorTitles":["normalizeScore"],"fullName":"normalizeScore should return value within bounds","status":"passed","title":"should return value within bounds","duration":0.05008399999996982,"failureMessages":[],"meta":{}},{"ancestorTitles":["normalizeScore"],"fullName":"normalizeScore should clamp to minimum","status":"passed","title":"should clamp to minimum","duration":0.04458399999998619,"failureMessages":[],"meta":{}},{"ancestorTitles":["normalizeScore"],"fullName":"normalizeScore should clamp to maximum","status":"passed","title":"should clamp to maximum","duration":0.04245800000001054,"failureMessages":[],"meta":{}},{"ancestorTitles":["normalizeScore"],"fullName":"normalizeScore should handle custom bounds","status":"passed","title":"should handle custom bounds","duration":0.06304199999999582,"failureMessages":[],"meta":{}},{"ancestorTitles":["evaluateRules convenience function"],"fullName":"evaluateRules convenience function should evaluate rules using new engine instance","status":"passed","title":"should evaluate rules using new engine instance","duration":0.09966699999995399,"failureMessages":[],"meta":{}},{"ancestorTitles":["createScoringEngine factory"],"fullName":"createScoringEngine factory should create engine with default config","status":"passed","title":"should create engine with default config","duration":0.07275000000004184,"failureMessages":[],"meta":{}},{"ancestorTitles":["createScoringEngine factory"],"fullName":"createScoringEngine factory should create engine with custom config","status":"passed","title":"should create engine with custom config","duration":0.048583000000007814,"failureMessages":[],"meta":{}},{"ancestorTitles":["DEFAULT_SCORING_CONFIG"],"fullName":"DEFAULT_SCORING_CONFIG should have valid default values","status":"passed","title":"should have valid default values","duration":0.08908400000007077,"failureMessages":[],"meta":{}},{"ancestorTitles":["CONFIDENCE_THRESHOLDS"],"fullName":"CONFIDENCE_THRESHOLDS should have correct threshold values","status":"passed","title":"should have correct threshold values","duration":0.08820800000000872,"failureMessages":[],"meta":{}}],"startTime":1769547204761,"endTime":1769547204773.089,"status":"failed","message":"","name":"/Volumes/Externalwork/code-reviewer/api/tests/scoring/scoring-engine.test.ts"},{"assertionResults":[{"ancestorTitles":["GraphBuilder","addNode"],"fullName":"GraphBuilder addNode should add a node to the graph","status":"passed","title":"should add a node to the graph","duration":0.8764579999999569,"failureMessages":[],"meta":{}},{"ancestorTitles":["GraphBuilder","addNode"],"fullName":"GraphBuilder addNode should overwrite existing node with same id","status":"passed","title":"should overwrite existing node with same id","duration":0.14533299999993687,"failureMessages":[],"meta":{}},{"ancestorTitles":["GraphBuilder","addNode"],"fullName":"GraphBuilder addNode should validate node when validateOnAdd is enabled","status":"passed","title":"should validate node when validateOnAdd is enabled","duration":0.41762499999992997,"failureMessages":[],"meta":{}},{"ancestorTitles":["GraphBuilder","addNode"],"fullName":"GraphBuilder addNode should skip validation when validateOnAdd is disabled","status":"passed","title":"should skip validation when validateOnAdd is disabled","duration":0.17412500000000364,"failureMessages":[],"meta":{}},{"ancestorTitles":["GraphBuilder","addNodes"],"fullName":"GraphBuilder addNodes should add multiple nodes","status":"passed","title":"should add multiple nodes","duration":0.7978749999999764,"failureMessages":[],"meta":{}},{"ancestorTitles":["GraphBuilder","addEdge"],"fullName":"GraphBuilder addEdge should add an edge to the graph","status":"passed","title":"should add an edge to the graph","duration":0.23341600000003382,"failureMessages":[],"meta":{}},{"ancestorTitles":["GraphBuilder","addEdge"],"fullName":"GraphBuilder addEdge should skip duplicate edges when allowDuplicateEdges is false","status":"passed","title":"should skip duplicate edges when allowDuplicateEdges is false","duration":0.11720800000000509,"failureMessages":[],"meta":{}},{"ancestorTitles":["GraphBuilder","addEdge"],"fullName":"GraphBuilder addEdge should allow duplicate edges when allowDuplicateEdges is true","status":"passed","title":"should allow duplicate edges when allowDuplicateEdges is true","duration":0.1628329999999778,"failureMessages":[],"meta":{}},{"ancestorTitles":["GraphBuilder","addEdge"],"fullName":"GraphBuilder addEdge should validate edge source exists when validateOnAdd is true","status":"passed","title":"should validate edge source exists when validateOnAdd is true","duration":0.19420800000000327,"failureMessages":[],"meta":{}},{"ancestorTitles":["GraphBuilder","addEdge"],"fullName":"GraphBuilder addEdge should validate edge target exists when validateOnAdd is true","status":"passed","title":"should validate edge target exists when validateOnAdd is true","duration":0.09908299999995052,"failureMessages":[],"meta":{}},{"ancestorTitles":["GraphBuilder","addEdgeByIds"],"fullName":"GraphBuilder addEdgeByIds should create and add edge by source and target ids","status":"passed","title":"should create and add edge by source and target ids","duration":0.2749579999999696,"failureMessages":[],"meta":{}},{"ancestorTitles":["GraphBuilder","addEdgeByIds"],"fullName":"GraphBuilder addEdgeByIds should auto-generate edge id","status":"passed","title":"should auto-generate edge id","duration":0.11462500000004638,"failureMessages":[],"meta":{}},{"ancestorTitles":["GraphBuilder","addEdges"],"fullName":"GraphBuilder addEdges should add multiple edges","status":"passed","title":"should add multiple edges","duration":0.10179100000004837,"failureMessages":[],"meta":{}},{"ancestorTitles":["GraphBuilder","hasNode"],"fullName":"GraphBuilder hasNode should return true for existing node","status":"passed","title":"should return true for existing node","duration":0.054542000000083135,"failureMessages":[],"meta":{}},{"ancestorTitles":["GraphBuilder","hasNode"],"fullName":"GraphBuilder hasNode should return false for non-existing node","status":"passed","title":"should return false for non-existing node","duration":0.04645800000002964,"failureMessages":[],"meta":{}},{"ancestorTitles":["GraphBuilder","hasEdge"],"fullName":"GraphBuilder hasEdge should return true for existing edge","status":"passed","title":"should return true for existing edge","duration":0.06925000000001091,"failureMessages":[],"meta":{}},{"ancestorTitles":["GraphBuilder","hasEdge"],"fullName":"GraphBuilder hasEdge should return true for edge with specific type","status":"passed","title":"should return true for edge with specific type","duration":0.07120899999995345,"failureMessages":[],"meta":{}},{"ancestorTitles":["GraphBuilder","hasEdge"],"fullName":"GraphBuilder hasEdge should return false for non-existing edge","status":"passed","title":"should return false for non-existing edge","duration":0.04595799999992778,"failureMessages":[],"meta":{}},{"ancestorTitles":["GraphBuilder","getNode"],"fullName":"GraphBuilder getNode should return node by id","status":"passed","title":"should return node by id","duration":0.05545900000004167,"failureMessages":[],"meta":{}},{"ancestorTitles":["GraphBuilder","getNode"],"fullName":"GraphBuilder getNode should return undefined for non-existing node","status":"passed","title":"should return undefined for non-existing node","duration":0.05920900000000984,"failureMessages":[],"meta":{}},{"ancestorTitles":["GraphBuilder","getNodes"],"fullName":"GraphBuilder getNodes should return all nodes","status":"passed","title":"should return all nodes","duration":0.33266699999990124,"failureMessages":[],"meta":{}},{"ancestorTitles":["GraphBuilder","getNodes"],"fullName":"GraphBuilder getNodes should return empty array for empty builder","status":"passed","title":"should return empty array for empty builder","duration":0.05987500000003365,"failureMessages":[],"meta":{}},{"ancestorTitles":["GraphBuilder","getEdges"],"fullName":"GraphBuilder getEdges should return all edges","status":"passed","title":"should return all edges","duration":0.08000000000004093,"failureMessages":[],"meta":{}},{"ancestorTitles":["GraphBuilder","getEdges"],"fullName":"GraphBuilder getEdges should return empty array for no edges","status":"passed","title":"should return empty array for no edges","duration":0.0887079999999969,"failureMessages":[],"meta":{}},{"ancestorTitles":["GraphBuilder","getOutgoingEdges"],"fullName":"GraphBuilder getOutgoingEdges should return edges from a node","status":"passed","title":"should return edges from a node","duration":0.14804199999991852,"failureMessages":[],"meta":{}},{"ancestorTitles":["GraphBuilder","getOutgoingEdges"],"fullName":"GraphBuilder getOutgoingEdges should return empty array for node with no outgoing edges","status":"passed","title":"should return empty array for node with no outgoing edges","duration":0.05666699999994762,"failureMessages":[],"meta":{}},{"ancestorTitles":["GraphBuilder","getIncomingEdges"],"fullName":"GraphBuilder getIncomingEdges should return edges to a node","status":"passed","title":"should return edges to a node","duration":0.11649999999997362,"failureMessages":[],"meta":{}},{"ancestorTitles":["GraphBuilder","removeNode"],"fullName":"GraphBuilder removeNode should remove node and its edges","status":"passed","title":"should remove node and its edges","duration":0.1432079999999587,"failureMessages":[],"meta":{}},{"ancestorTitles":["GraphBuilder","removeNode"],"fullName":"GraphBuilder removeNode should return false for non-existing node","status":"passed","title":"should return false for non-existing node","duration":0.046749999999974534,"failureMessages":[],"meta":{}},{"ancestorTitles":["GraphBuilder","removeEdge"],"fullName":"GraphBuilder removeEdge should remove edge by id","status":"passed","title":"should remove edge by id","duration":0.08958300000006147,"failureMessages":[],"meta":{}},{"ancestorTitles":["GraphBuilder","removeEdge"],"fullName":"GraphBuilder removeEdge should return false for non-existing edge","status":"passed","title":"should return false for non-existing edge","duration":0.04683299999999235,"failureMessages":[],"meta":{}},{"ancestorTitles":["GraphBuilder","build"],"fullName":"GraphBuilder build should build dependency graph","status":"passed","title":"should build dependency graph","duration":0.18870800000001964,"failureMessages":[],"meta":{}},{"ancestorTitles":["GraphBuilder","build"],"fullName":"GraphBuilder build should calculate node counts by type","status":"passed","title":"should calculate node counts by type","duration":0.09166700000002947,"failureMessages":[],"meta":{}},{"ancestorTitles":["GraphBuilder","build"],"fullName":"GraphBuilder build should calculate edge counts by type","status":"passed","title":"should calculate edge counts by type","duration":0.08333399999992253,"failureMessages":[],"meta":{}},{"ancestorTitles":["GraphBuilder","build"],"fullName":"GraphBuilder build should collect unique source files","status":"passed","title":"should collect unique source files","duration":0.17212499999993724,"failureMessages":[],"meta":{}},{"ancestorTitles":["GraphBuilder","build"],"fullName":"GraphBuilder build should track build time","status":"passed","title":"should track build time","duration":0.12645800000007057,"failureMessages":[],"meta":{}},{"ancestorTitles":["GraphBuilder","clear"],"fullName":"GraphBuilder clear should remove all nodes and edges","status":"passed","title":"should remove all nodes and edges","duration":0.10354200000006131,"failureMessages":[],"meta":{}},{"ancestorTitles":["GraphMerger","merge"],"fullName":"GraphMerger merge should merge empty graphs","status":"passed","title":"should merge empty graphs","duration":0.453708000000006,"failureMessages":[],"meta":{}},{"ancestorTitles":["GraphMerger","merge"],"fullName":"GraphMerger merge should merge single graph","status":"passed","title":"should merge single graph","duration":0.19191699999998946,"failureMessages":[],"meta":{}},{"ancestorTitles":["GraphMerger","merge"],"fullName":"GraphMerger merge should merge multiple graphs","status":"passed","title":"should merge multiple graphs","duration":0.15924999999992906,"failureMessages":[],"meta":{}},{"ancestorTitles":["GraphMerger","merge"],"fullName":"GraphMerger merge should handle node conflicts with keep-first strategy","status":"passed","title":"should handle node conflicts with keep-first strategy","duration":0.078125,"failureMessages":[],"meta":{}},{"ancestorTitles":["GraphMerger","merge"],"fullName":"GraphMerger merge should handle node conflicts with keep-last strategy","status":"passed","title":"should handle node conflicts with keep-last strategy","duration":0.06875000000002274,"failureMessages":[],"meta":{}},{"ancestorTitles":["GraphMerger","merge"],"fullName":"GraphMerger merge should handle node conflicts with merge strategy","status":"passed","title":"should handle node conflicts with merge strategy","duration":0.07979199999999764,"failureMessages":[],"meta":{}},{"ancestorTitles":["GraphMerger","merge"],"fullName":"GraphMerger merge should throw on node conflict with error strategy","status":"passed","title":"should throw on node conflict with error strategy","duration":0.10741600000005747,"failureMessages":[],"meta":{}},{"ancestorTitles":["GraphMerger","merge"],"fullName":"GraphMerger merge should apply node ID prefix","status":"passed","title":"should apply node ID prefix","duration":0.0638330000000451,"failureMessages":[],"meta":{}},{"ancestorTitles":["GraphValidator","validate"],"fullName":"GraphValidator validate should validate valid graph","status":"passed","title":"should validate valid graph","duration":0.18912499999999,"failureMessages":[],"meta":{}},{"ancestorTitles":["GraphValidator","validate"],"fullName":"GraphValidator validate should detect dangling source edge","status":"passed","title":"should detect dangling source edge","duration":0.09187499999995907,"failureMessages":[],"meta":{}},{"ancestorTitles":["GraphValidator","validate"],"fullName":"GraphValidator validate should detect dangling target edge","status":"passed","title":"should detect dangling target edge","duration":0.07608300000003965,"failureMessages":[],"meta":{}},{"ancestorTitles":["GraphValidator","validate"],"fullName":"GraphValidator validate should warn about self-loops","status":"passed","title":"should warn about self-loops","duration":0.12754199999994853,"failureMessages":[],"meta":{}},{"ancestorTitles":["GraphValidator","validate"],"fullName":"GraphValidator validate should warn about orphan nodes","status":"passed","title":"should warn about orphan nodes","duration":0.07625000000007276,"failureMessages":[],"meta":{}},{"ancestorTitles":["GraphValidator","validate"],"fullName":"GraphValidator validate should warn about cycles","status":"passed","title":"should warn about cycles","duration":0.1544170000000804,"failureMessages":[],"meta":{}},{"ancestorTitles":["GraphValidator","hasCycles"],"fullName":"GraphValidator hasCycles should return false for acyclic graph","status":"passed","title":"should return false for acyclic graph","duration":0.06475000000000364,"failureMessages":[],"meta":{}},{"ancestorTitles":["GraphValidator","hasCycles"],"fullName":"GraphValidator hasCycles should return true for cyclic graph","status":"passed","title":"should return true for cyclic graph","duration":0.05295800000010331,"failureMessages":[],"meta":{}},{"ancestorTitles":["GraphValidator","hasCycles"],"fullName":"GraphValidator hasCycles should return false for empty graph","status":"passed","title":"should return false for empty graph","duration":0.0595419999999649,"failureMessages":[],"meta":{}},{"ancestorTitles":["GraphValidator","hasCycles"],"fullName":"GraphValidator hasCycles should handle complex graphs","status":"passed","title":"should handle complex graphs","duration":0.06354099999998652,"failureMessages":[],"meta":{}},{"ancestorTitles":["GraphValidator","findOrphanNodes"],"fullName":"GraphValidator findOrphanNodes should find orphan nodes","status":"passed","title":"should find orphan nodes","duration":0.07216700000003584,"failureMessages":[],"meta":{}},{"ancestorTitles":["GraphValidator","findOrphanNodes"],"fullName":"GraphValidator findOrphanNodes should not include connected nodes","status":"passed","title":"should not include connected nodes","duration":0.061458000000016,"failureMessages":[],"meta":{}},{"ancestorTitles":["GraphValidator","findUnreachableNodes"],"fullName":"GraphValidator findUnreachableNodes should find unreachable nodes from starting point","status":"passed","title":"should find unreachable nodes from starting point","duration":0.10258299999998144,"failureMessages":[],"meta":{}},{"ancestorTitles":["GraphValidator","findUnreachableNodes"],"fullName":"GraphValidator findUnreachableNodes should return all nodes for non-existent starting point","status":"passed","title":"should return all nodes for non-existent starting point","duration":0.06491700000003675,"failureMessages":[],"meta":{}},{"ancestorTitles":["GraphValidator","findUnreachableNodes"],"fullName":"GraphValidator findUnreachableNodes should return empty for fully connected graph from proper start","status":"passed","title":"should return empty for fully connected graph from proper start","duration":0.06895800000006602,"failureMessages":[],"meta":{}},{"ancestorTitles":["Factory Functions","createGraphBuilder"],"fullName":"Factory Functions createGraphBuilder should create builder with default options","status":"passed","title":"should create builder with default options","duration":0.12379199999998036,"failureMessages":[],"meta":{}},{"ancestorTitles":["Factory Functions","createGraphBuilder"],"fullName":"Factory Functions createGraphBuilder should create builder with custom options","status":"passed","title":"should create builder with custom options","duration":0.04820799999993142,"failureMessages":[],"meta":{}},{"ancestorTitles":["Factory Functions","createEmptyGraph"],"fullName":"Factory Functions createEmptyGraph should create empty graph with default id","status":"passed","title":"should create empty graph with default id","duration":0.0777499999999236,"failureMessages":[],"meta":{}},{"ancestorTitles":["Factory Functions","createEmptyGraph"],"fullName":"Factory Functions createEmptyGraph should create empty graph with custom id","status":"passed","title":"should create empty graph with custom id","duration":0.04541699999992943,"failureMessages":[],"meta":{}},{"ancestorTitles":["Factory Functions","mergeGraphs"],"fullName":"Factory Functions mergeGraphs should merge graphs using convenience function","status":"passed","title":"should merge graphs using convenience function","duration":0.065166999999974,"failureMessages":[],"meta":{}}],"startTime":1769547204766,"endTime":1769547204778.1238,"status":"passed","message":"","name":"/Volumes/Externalwork/code-reviewer/api/tests/graph/graph-builder.test.ts"},{"assertionResults":[],"startTime":1769547204395,"endTime":1769547204395,"status":"failed","message":"Transform failed with 2 errors:\n/Volumes/Externalwork/code-reviewer/api/src/parsers/helm/chart-parser.ts:615:9: ERROR: Multiple exports with the same name \"HelmChartParser\"\n/Volumes/Externalwork/code-reviewer/api/src/parsers/helm/chart-parser.ts:615:26: ERROR: Multiple exports with the same name \"HelmRequirementsParser\"","name":"/Volumes/Externalwork/code-reviewer/api/tests/parsers/helm/chart-parser.test.ts"},{"assertionResults":[{"ancestorTitles":["parseModuleSource","local paths"],"fullName":"parseModuleSource local paths should parse relative local path","status":"passed","title":"should parse relative local path","duration":1.7404170000000931,"failureMessages":[],"meta":{}},{"ancestorTitles":["parseModuleSource","local paths"],"fullName":"parseModuleSource local paths should parse parent directory path","status":"passed","title":"should parse parent directory path","duration":0.15008299999999508,"failureMessages":[],"meta":{}},{"ancestorTitles":["parseModuleSource","local paths"],"fullName":"parseModuleSource local paths should parse absolute path","status":"passed","title":"should parse absolute path","duration":0.3120000000000118,"failureMessages":[],"meta":{}},{"ancestorTitles":["parseModuleSource","registry modules"],"fullName":"parseModuleSource registry modules should parse public registry module","status":"passed","title":"should parse public registry module","duration":0.4271250000000464,"failureMessages":[],"meta":{}},{"ancestorTitles":["parseModuleSource","registry modules"],"fullName":"parseModuleSource registry modules should parse terraform-aws-modules source","status":"passed","title":"should parse terraform-aws-modules source","duration":0.2465829999999869,"failureMessages":[],"meta":{}},{"ancestorTitles":["parseModuleSource","registry modules"],"fullName":"parseModuleSource registry modules should parse private registry module with hostname","status":"passed","title":"should parse private registry module with hostname","duration":0.17329099999994924,"failureMessages":[],"meta":{}},{"ancestorTitles":["parseModuleSource","GitHub sources"],"fullName":"parseModuleSource GitHub sources should parse GitHub HTTPS source","status":"passed","title":"should parse GitHub HTTPS source","duration":0.12741699999992306,"failureMessages":[],"meta":{}},{"ancestorTitles":["parseModuleSource","GitHub sources"],"fullName":"parseModuleSource GitHub sources should parse GitHub HTTPS with subpath","status":"passed","title":"should parse GitHub HTTPS with subpath","duration":0.10820899999998801,"failureMessages":[],"meta":{}},{"ancestorTitles":["parseModuleSource","GitHub sources"],"fullName":"parseModuleSource GitHub sources should parse GitHub SSH source","status":"passed","title":"should parse GitHub SSH source","duration":0.18658300000004147,"failureMessages":[],"meta":{}},{"ancestorTitles":["parseModuleSource","GitHub sources"],"fullName":"parseModuleSource GitHub sources should parse GitHub with ref","status":"failed","title":"should parse GitHub with ref","duration":10.906292000000008,"failureMessages":["AssertionError: expected 'unknown' to be 'github' // Object.is equality\n    at /Volumes/Externalwork/code-reviewer/api/tests/parsers/terraform/module-detector.test.ts:133:27\n    at file:///Volumes/Externalwork/code-reviewer/api/node_modules/@vitest/runner/dist/index.js:146:14\n    at file:///Volumes/Externalwork/code-reviewer/api/node_modules/@vitest/runner/dist/index.js:533:11\n    at runWithTimeout (file:///Volumes/Externalwork/code-reviewer/api/node_modules/@vitest/runner/dist/index.js:39:7)\n    at runTest (file:///Volumes/Externalwork/code-reviewer/api/node_modules/@vitest/runner/dist/index.js:1056:17)\n    at runSuite (file:///Volumes/Externalwork/code-reviewer/api/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Volumes/Externalwork/code-reviewer/api/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Volumes/Externalwork/code-reviewer/api/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runFiles (file:///Volumes/Externalwork/code-reviewer/api/node_modules/@vitest/runner/dist/index.js:1262:5)\n    at startTests (file:///Volumes/Externalwork/code-reviewer/api/node_modules/@vitest/runner/dist/index.js:1271:3)"],"meta":{}},{"ancestorTitles":["parseModuleSource","Git sources"],"fullName":"parseModuleSource Git sources should parse generic git URL","status":"passed","title":"should parse generic git URL","duration":0.456957999999986,"failureMessages":[],"meta":{}},{"ancestorTitles":["parseModuleSource","Git sources"],"fullName":"parseModuleSource Git sources should parse git URL with ref","status":"passed","title":"should parse git URL with ref","duration":0.15162499999996726,"failureMessages":[],"meta":{}},{"ancestorTitles":["parseModuleSource","Git sources"],"fullName":"parseModuleSource Git sources should parse git SSH URL","status":"passed","title":"should parse git SSH URL","duration":0.08262500000000728,"failureMessages":[],"meta":{}},{"ancestorTitles":["parseModuleSource","S3 sources"],"fullName":"parseModuleSource S3 sources should parse S3 source","status":"passed","title":"should parse S3 source","duration":0.2827079999999569,"failureMessages":[],"meta":{}},{"ancestorTitles":["parseModuleSource","S3 sources"],"fullName":"parseModuleSource S3 sources should parse S3 source without region","status":"passed","title":"should parse S3 source without region","duration":0.18441700000005312,"failureMessages":[],"meta":{}},{"ancestorTitles":["parseModuleSource","GCS sources"],"fullName":"parseModuleSource GCS sources should parse GCS source","status":"passed","title":"should parse GCS source","duration":0.3408329999999751,"failureMessages":[],"meta":{}},{"ancestorTitles":["parseModuleSource","unknown sources"],"fullName":"parseModuleSource unknown sources should handle unknown source format","status":"passed","title":"should handle unknown source format","duration":0.08062499999994088,"failureMessages":[],"meta":{}},{"ancestorTitles":["parseVersionConstraint"],"fullName":"parseVersionConstraint should parse single version","status":"passed","title":"should parse single version","duration":0.9147910000000365,"failureMessages":[],"meta":{}},{"ancestorTitles":["parseVersionConstraint"],"fullName":"parseVersionConstraint should parse explicit equals","status":"passed","title":"should parse explicit equals","duration":0.5152090000000271,"failureMessages":[],"meta":{}},{"ancestorTitles":["parseVersionConstraint"],"fullName":"parseVersionConstraint should parse pessimistic constraint","status":"passed","title":"should parse pessimistic constraint","duration":0.17562499999996817,"failureMessages":[],"meta":{}},{"ancestorTitles":["parseVersionConstraint"],"fullName":"parseVersionConstraint should parse greater than or equal","status":"passed","title":"should parse greater than or equal","duration":0.21325000000001637,"failureMessages":[],"meta":{}},{"ancestorTitles":["parseVersionConstraint"],"fullName":"parseVersionConstraint should parse less than","status":"passed","title":"should parse less than","duration":0.33550000000002456,"failureMessages":[],"meta":{}},{"ancestorTitles":["parseVersionConstraint"],"fullName":"parseVersionConstraint should parse compound constraint","status":"passed","title":"should parse compound constraint","duration":0.1764580000000251,"failureMessages":[],"meta":{}},{"ancestorTitles":["parseVersionConstraint"],"fullName":"parseVersionConstraint should parse pessimistic with patch version","status":"passed","title":"should parse pessimistic with patch version","duration":0.21879200000000765,"failureMessages":[],"meta":{}},{"ancestorTitles":["parseVersionConstraint"],"fullName":"parseVersionConstraint should parse not equal","status":"passed","title":"should parse not equal","duration":0.5800410000000511,"failureMessages":[],"meta":{}},{"ancestorTitles":["ModuleDetector","detectModules"],"fullName":"ModuleDetector detectModules should detect local module","status":"passed","title":"should detect local module","duration":0.4459160000000111,"failureMessages":[],"meta":{}},{"ancestorTitles":["ModuleDetector","detectModules"],"fullName":"ModuleDetector detectModules should detect registry module with version","status":"passed","title":"should detect registry module with version","duration":0.18175000000007913,"failureMessages":[],"meta":{}},{"ancestorTitles":["ModuleDetector","detectModules"],"fullName":"ModuleDetector detectModules should detect module with providers mapping","status":"passed","title":"should detect module with providers mapping","duration":0.4610410000000229,"failureMessages":[],"meta":{}},{"ancestorTitles":["ModuleDetector","detectModules"],"fullName":"ModuleDetector detectModules should detect module with depends_on","status":"passed","title":"should detect module with depends_on","duration":0.26883299999997234,"failureMessages":[],"meta":{}},{"ancestorTitles":["ModuleDetector","detectModules"],"fullName":"ModuleDetector detectModules should detect module with count","status":"passed","title":"should detect module with count","duration":0.4009999999999536,"failureMessages":[],"meta":{}},{"ancestorTitles":["ModuleDetector","detectModules"],"fullName":"ModuleDetector detectModules should detect module with for_each","status":"passed","title":"should detect module with for_each","duration":0.13533299999994597,"failureMessages":[],"meta":{}},{"ancestorTitles":["ModuleDetector","detectModules"],"fullName":"ModuleDetector detectModules should handle multiple modules","status":"passed","title":"should handle multiple modules","duration":0.21233399999994162,"failureMessages":[],"meta":{}},{"ancestorTitles":["ModuleDetector","detectModules"],"fullName":"ModuleDetector detectModules should ignore non-module blocks","status":"passed","title":"should ignore non-module blocks","duration":0.3554579999999987,"failureMessages":[],"meta":{}},{"ancestorTitles":["ModuleDetector","detectModules"],"fullName":"ModuleDetector detectModules should skip module blocks without source","status":"passed","title":"should skip module blocks without source","duration":0.3304170000000113,"failureMessages":[],"meta":{}},{"ancestorTitles":["ModuleDetector","detectModules"],"fullName":"ModuleDetector detectModules should preserve source location","status":"passed","title":"should preserve source location","duration":0.12970800000005056,"failureMessages":[],"meta":{}},{"ancestorTitles":["moduleDetector singleton"],"fullName":"moduleDetector singleton should be a ModuleDetector instance","status":"passed","title":"should be a ModuleDetector instance","duration":0.2961670000000822,"failureMessages":[],"meta":{}},{"ancestorTitles":["moduleDetector singleton"],"fullName":"moduleDetector singleton should detect modules","status":"passed","title":"should detect modules","duration":0.205332999999996,"failureMessages":[],"meta":{}}],"startTime":1769547204764,"endTime":1769547204789.2053,"status":"failed","message":"","name":"/Volumes/Externalwork/code-reviewer/api/tests/parsers/terraform/module-detector.test.ts"}]}